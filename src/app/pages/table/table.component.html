<div class="bg">

    <div class="head">
        <mat-card>
            <h1>Legyszi-board</h1>
        </mat-card>
    </div>
    <div class="newseek">
    <a  mat-raised-button color="warn" (click)="openDialog()" target="_blank">Kérés</a>
    </div>
    <mat-accordion class="mat-acc">
        <mat-expansion-panel *ngFor="let item of items|async" class="mat-acc" (opened)="refreshAnswersExpanded($event,item.propertyId)">
            <mat-expansion-panel-header>
              <mat-panel-title>
                {{item.name}}
              </mat-panel-title>
              <mat-panel-description> 
                Kerte:
                {{item.username}}
                <mat-icon>description</mat-icon>
              </mat-panel-description>
            </mat-expansion-panel-header>
            <mat-tab-group (selectedTabChange)="refreshAnswers($event,item.propertyId)" dynamicHeight [selectedIndex]="tabindex">
              <mat-tab class="tableplease">
                <ng-template mat-tab-label>
                  <mat-icon class="example-tab-icon">description</mat-icon>
                  Részletek
                </ng-template>
                <p>Rövid leírás:</p>
                <p>{{item.description}}</p>
                <br/>
                <a mat-raised-button color="warn" (click)="onIt(item.propertyId)" target="_blank">RAJTA VAGYOK</a>
              </mat-tab>
    
              <ng-container *ngIf="(answers | async) === null">
                Loading tabs...
              </ng-container>
            
              <mat-tab class="tableplease">
                <ng-template mat-tab-label>
                  <mat-icon class="example-tab-icon">comment</mat-icon>
                  Valaszok
                </ng-template>
                 <p>Rajta vannak az ugyon:</p>
                  <table class="answers">
                    <tr *ngFor="let item of answers|async">
                        {{item.username}}
                    </tr>
                  </table>
                  <br/>
              </mat-tab>
            </mat-tab-group>
          </mat-expansion-panel>
    </mat-accordion>
    
</div>